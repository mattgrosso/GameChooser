<h2 class="chooser-header">choose a game</h2>

<form class="chooser-form">
  <input ng-model="choose.players" type="text" name="player-count" placeholder="player count" autocomplete="off">
  <input ng-model="choose.duration" type="text" name="duration" placeholder="duration (min)"autocomplete="off">
  <select ng-model="choose.genre" name="genre">
    <option value="" disabled selected>select genre</option>
    <option ng-repeat="genre in choose.genreArray">{{genre | titleCase}}</option>
  </select>
  <select class="select-selector"ng-model="choose.chooser" >
    <option value="" disabled selected>select selector</option>
    <option ng-repeat="chooser in choose.chooserArray" value="{{chooser.stateName}}">{{chooser.menuName}}</option>
  </select>
  <aside class="chooser-info">
    Random: Choose a game randomly.<br>Nominate-Random: Choose a game randomly from a list of games you nominate.<br>Eliminate: Choose a game by taking turns eliminating games from a list.<br>Vote: Choose a game by voting on games in a list of games you nominate.<br>Nominate-Rank: Choose a game through a series of votes of increasing value.<br>Bracket: Choose a game by going though a tournament of head-to-head matchups
  </aside>
  <button class="chooser-button" ng-click="choose.goToChooser(filteredCollection)" type="button" name="choose-button">Choose</button>
  <button class="add-game-button" ng-click="choose.showAddGameForm()" type="button">add a game</button>
  <div class="clearfix"></div>
</form>

<modal show="choose.showAddGame" close="choose.showAddGame = false">

  <form>
    <input ng-model="choose.addGameTitle" type="text" name="game-name" placeholder="Game Title" autocomplete="off">
    <button class="find-game-button" ng-click="choose.findGameToAdd(choose.addGameTitle)" type="submit">find game</button>
  </form>

  <h3 class="add-games-popup-message" ng-show="choose.addGamesPopupMessage">{{choose.addGamesPopupMessage}}</h3>

  <ul ng-show="choose.showGamesToAdd">
    <li ng-click="choose.addGameToList(choose.firstGameToAdd)" ng-show="choose.firstGameToAdd">
      <img ng-src="{{choose.firstGameToAdd.image.thumbnailURL}}"/>
      <div class="aside-wrapper">
        <aside>{{choose.firstGameToAdd.name}}</aside>
        <aside>{{choose.firstGameToAdd.year}}</aside>
      </div>
    </li>
    <li ng-click="choose.addGameToList(choose.secondGameToAdd)" ng-show="choose.secondGameToAdd">
      <img ng-src="{{choose.secondGameToAdd.image.thumbnailURL}}"/>
      <div class="aside-wrapper">
        <aside>{{choose.secondGameToAdd.name}}</aside>
        <aside>{{choose.secondGameToAdd.year}}</aside>
      </div>
    </li>
    <li ng-click="choose.addGameToList(choose.thirdGameToAdd)" ng-show="choose.thirdGameToAdd">
      <img ng-src="{{choose.thirdGameToAdd.image.thumbnailURL}}"/>
      <div class="aside-wrapper">
        <aside>{{choose.thirdGameToAdd.name}}</aside>
        <aside>{{choose.thirdGameToAdd.year}}</aside>
      </div>
    </li>
  </ul>

</modal>

<p>{{filteredCollection.length}} games</p>
<ul>
  <li ng-repeat="game in choose.collection | gameFilter:choose.players:choose.duration:choose.genre as filteredCollection">
    <img ng-src="{{game.image.thumbnailURL}}"/>
    {{game.name}}
    max: {{game.playTime.max}}
    min: {{game.playTime.min}}
  </li>
</ul>
